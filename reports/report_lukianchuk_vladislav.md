# Отчёт о вкладе в проект Smart Spend

**Автор:** Лукьянчук Владислав  
**Email:** lukianchuk.vd@phystech.edu, unity.channel@bk.ru  

---

## 1. Моя роль в проекте

В рамках командной разработки проекта **Smart Spend** я выполнял роль **Software Engineer**.  
Моя работа была сосредоточена на разработке и тестировании backend-функциональности, связанной с транзакциями пользователей, а также на написании тестов для API, отвечающего за работу с группами.

Основной вклад заключался в создании модели транзакций, реализации CRUD-эндпоинтов и обеспечении тестового покрытия для модулей транзакций и групп.

---

## 2. Перечень задач и описание работы над ними

### 2.1. Реализация модели транзакции

**Задача:**  
Создать модель транзакции для хранения информации о доходах и расходах пользователей.

**Описание работы:**

На первом этапе была реализована модель транзакции, описывающая структуру таблицы `transactions` в базе данных. Модель предназначена для хранения информации о финансовых операциях пользователей.

В модели были определены следующие поля:
- идентификатор транзакции;
- название транзакции;
- тип транзакции;
- категория;
- сумма;
- даты создания и обновления;
- связь транзакции с пользователем через внешний ключ.

Также была настроена каскадная связь с пользователем, обеспечивающая удаление транзакций при удалении пользователя. Реализация модели стала основой для последующей разработки API-эндпоинтов.

---

### 2.2. Реализация CRUD-эндпоинтов транзакций

**Задача:**  
Реализовать API-эндпоинты для управления транзакциями пользователей.

**Описание работы:**

На основе модели транзакции были реализованы CRUD-эндпоинты, обеспечивающие базовый функционал работы с транзакциями. Эндпоинты были реализованы в отдельном роутере и подключены к основному приложению.

Были реализованы следующие операции:
- `POST /transactions` — создание транзакции;
- `GET /transactions` — получение списка транзакций;
- `PUT /transactions/{id}` — обновление транзакции;
- `DELETE /transactions/{id}` — удаление транзакции.

В результате пользователи получили возможность добавлять, редактировать, удалять транзакции и получать их список через API.

---

### 2.3. Тестирование CRUD-функциональности транзакций

**Задача:**  
Обеспечить тестовое покрытие CRUD-эндпоинтов транзакций.

**Описание работы:**

Для модуля транзакций были написаны тесты, проверяющие корректность работы API. Тестирование проводилось на уровне роутера с использованием мокирования сервисного слоя.

В тестах были проверены следующие сценарии:
- успешное создание транзакции;
- получение списка транзакций, включая сценарии с фильтрацией;
- получение транзакции по идентификатору;
- обновление транзакции;
- удаление транзакции;
- обработка случаев, когда транзакция не найдена.

Тесты проверяли корректность HTTP-статусов, структуру ответа и соответствие возвращаемых данных ожидаемому формату.

---

### 2.4. Тестирование API групп

**Задача:**  
Написать тесты для проверки работы API, связанного с группами пользователей.

**Описание работы:**

Помимо транзакций, мной были реализованы тесты для эндпоинтов групп. Реализация бизнес-логики групп выполнялась в проекте отдельно, а моей задачей было проверить корректность работы API-слоя.

В тестах были покрыты следующие сценарии:
- создание группы;
- получение информации о группе и её участниках;
- обновление данных группы;
- удаление группы.

При тестировании использовалось мокирование сервисного слоя, что позволило изолировать API-эндпоинты и проверить корректность обработки запросов и формирования ответов.

---

## 3. Использованные технологии и инструменты

В ходе выполнения задач были использованы следующие технологии и инструменты.

### Backend-разработка
- **FastAPI** — реализация.
- **SQLAlchemy** — описание моделей и работа с базой данных.

### Тестирование
- **pytest** — написание и запуск тестов.
- **httpx / TestClient** — тестирование API-эндпоинтов.
- **unittest.mock (AsyncMock, patch)** — мокирование сервисного слоя.

### Инструменты разработки
- **Git** — контроль версий и командная разработка.
- **Poetry** — управление зависимостями Python.

---

## 4. Саморефлексия

### 4.1. Результаты работы

В рамках проекта были реализованы:
- модель транзакции;
- CRUD-эндпоинты для транзакций;
- тесты для транзакций и групп, покрывающие основные сценарии работы API.

---

### 4.2. Выводы

Работа над проектом позволила получить практический опыт разработки backend-функциональности и тестирования API. Особое внимание было уделено корректности контрактов API и стабильности тестов при изменениях сервисного слоя.
